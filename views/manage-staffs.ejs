<!DOCTYPE html>
<html>
<head>
    <title>Manage Users</title>
    <link rel="stylesheet" type="text/css" href="/css/manage-users.css">
    <script>
        function showAddUserForm() {
            document.getElementById('addUserForm').style.display = 'block';
        }
        function closeAddUserForm() {
            document.getElementById('addUserForm').style.display = 'none';
        }
    </script>
</head>
<body>
    <div class="admin-container">
        <header>
            <h1>Manage Users</h1>
            <nav>
                <ul>
                    <li><a href="/admin">Dashboard</a></li>
                    <li><a href="/manage-users">Manage Users</a></li>
                    <li><a href="/manage-staffs">Manage Staffs</a></li>
                    <li><a href="/manage-rooms">Manage Rooms</a></li>
                    <li><a href="/manage-bookings">Manage Bookings</a></li>
                    <li><a href="/">Logout</a></li>
                </ul>
            </nav>
        </header>
        <button class="add-user-btn" onclick="showAddStaffForm()">Add Staff</button>
        <form id="addUserForm" method="POST" action="/add-staff" style="display:none;">
            <div>
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div>
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required>
            </div>
            <div>
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div>
                <label for="dob">Date of Birth:</label>
                <input type="date" id="dob" name="dob" required>
            </div>
            <div>
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div>
                <label for="phone">Phone Number:</label>
                <input type="tel" id="phone" name="phone" required>
            </div>
            <div>
                <label for="position">Position:</label>
                <input type="text" id="position" name="position" required>
            </div>
            <div>
                <label for="salary">Salary:</label>
                <input type="number" id="salary" name="salary" required>
            </div>
            <button class="submit-add-btn" type="submit">Submit</button>
            <button class="close-add-btn" onclick="closeAddStaffForm()">X</button>
        </form>
        <form action="/manage-staffs" method="GET">
            <div>
                <label for="filterUsername">Username:</label>
                <input type="text" id="filterUsername" name="filterUsername">
            </div>
            <div>
                <label for="filterName">Name:</label>
                <input type="text" id="filterName" name="filterName">
            </div>
            <div>
                <label for="filterDOB">DOB:</label>
                <input type="text" id="filterDOB" name="filterDOB">
            </div>
            <div>
                <label for="filterPhone">Phone:</label>
                <input type="text" id="filterPhone" name="filterPhone">
            </div>
            <div>
                <label for="filterEmail">Email:</label>
                <input type="text" id="filterEmail" name="filterEmail">
            </div>
            <div>
                <label for="filterPosition">Position:</label>
                <input type="text" id="filterPosition" name="filterPosition">
            </div>
            <div>
                <label for="orderBy">Order By:</label>
                <select name="orderBy" id="orderBy" size="1">
                    <option value="StaffID">ID</option>
                    <option value="Username">Username</option>
                    <option value="Name">Name</option>
                    <option value="DOB">DOB</option>
                    <option value="Phone">Phone</option>
                    <option value="Email">Email</option>
                    <option value="Position">Position</option>
                    <option value="Salary">Salary</option>
                </select>
            </div>
            <div>
                <label for="desc">Sort:</label>
                <select name="desc" id="desc" size="1">
                    <option value="ASC">ASC</option>
                    <option value="DESC">DESC</option>
                </select>
            </div>
            <div>
                <button type="submit">Apply</button>
            </div>
        </form>
        <main>
            <h2>Staff List</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Username</th>
                        <th>Name</th>
                        <th>DOB</th>
                        <th>Phone</th>
                        <th>Email</th>
                        <th>Position</th>
                        <th>Salary</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% users.forEach(user => { %>
                        <tr>
                            <td><%= user.StaffID %></td>
                            <td><%= user.Username %></td>
                            <td><%= user.Name %></td>
                            <td><%= user.DOB %></td>
                            <td><%= user.Phone %></td>
                            <td><%= user.Email %></td>
                            <td><%= user.Position %></td>
                            <td><%= user.Salary %></td>
                            <td>
                                <form type="GET" action="/edit-staff">
                                    <input type="hidden" name="StaffID" value="<%= user.StaffID %>">
                                    <button type="submit">Edit</button>
                                </form>
                                <form method="POST" action="/delete-staff">
                                    <input type="hidden" name="StaffID" value="<%= user.StaffID %>">
                                    <button type="submit">Delete</button>
                                </form>
                            </td>
                        </tr>    
                    <% }) %>  
                    <!-- Add more rows as needed -->
                </tbody>
            </table>
        </main>
    </div>
</body>
</html>
